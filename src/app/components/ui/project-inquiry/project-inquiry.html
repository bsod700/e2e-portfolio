<div [ngClass]="['project-inquiry',`type-${classType}`]">
  <!-- Background glows behind the CTA (from Figma Hero) -->
  <div class="glow-layer" aria-hidden="true">
    <span class="glow glow--blue-1"></span>
    <span class="glow glow--blue-2"></span>
    <span class="glow glow--blue-3"></span>
    <span class="glow glow--red-1"></span>
    <span class="glow glow--red-2"></span>
    <span class="glow glow--red-3"></span>
  </div>
  <!-- Main Inquiry Form -->
  <div class="inquiry-form" [class.hidden]="showContactForm">
    <div
      class="input-wrapper shiny-corners"
      [ngStyle]="inputGlowStyle"
      (mousemove)="onInputPointerMove($event)"
      (mouseenter)="onInputEnter()"
      (mouseleave)="onInputLeave()"
    >
      <input
        type="text"
        class="project-input"
        placeholder="What are we building?"
        [(ngModel)]="projectDescription"
        (keyup.enter)="generateInquiry()"
        aria-label="Describe your project"
      />
      <button class="input-icon-btn" (click)="generateInquiry()" aria-label="Submit inquiry">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
        >
          <path
            d="M3.33301 9.99967L4.50801 11.1747L9.16634 6.52467V16.6663H10.833V6.52467L15.483 11.183L16.6663 9.99967L9.99967 3.33301L3.33301 9.99967Z"
            fill="#080C1A"
          />
        </svg>
      </button>
    </div>

    <div class="project-types">
      @for (type of projectTypes; track type.id) {
        <button
          class="type-btn shiny-corners"
          [class.selected]="isSelected(type.id)"
          (click)="toggleProjectType(type.id)"
          [attr.aria-pressed]="isSelected(type.id)"
        >
          <div class="type-btn-content">
            <span class="type-label">{{ type.label }}</span>
          </div>
        </button>
      }
    </div>

    <!-- <p class="inquiry-hint">Describe your project, select types, or both to get started</p> -->
  </div>

  <!-- Contact Form Modal -->
  @if (showContactForm) {
    <div class="contact-modal" (click)="closeContactForm()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <button class="close-btn" (click)="closeContactForm()" aria-label="Close">
        <span>Ã—</span>
      </button>

      <h3 class="modal-title">Almost there! ðŸ‘‹</h3>
      <p class="modal-subtitle">How can I reach you?</p>

      <div class="message-preview">
        <p class="preview-label">Your Inquiry:</p>
        <p class="preview-text">{{ generatedMessage }}</p>
      </div>

      <div class="contact-fields">
        <div class="field-group">
          <label for="contact-name">Name</label>
          <input
            id="contact-name"
            type="text"
            class="contact-input"
            placeholder="Your name"
            [(ngModel)]="contactName"
          />
        </div>

        <div class="field-group">
          <label for="contact-email">Email</label>
          <input
            id="contact-email"
            type="email"
            class="contact-input"
            placeholder="your@email.com"
            [(ngModel)]="contactEmail"
          />
        </div>

        <div class="field-group">
          <label for="contact-phone">Phone <span class="optional">(optional)</span></label>
          <input
            id="contact-phone"
            type="tel"
            class="contact-input"
            placeholder="+1 (555) 000-0000"
            [(ngModel)]="contactPhone"
          />
        </div>
      </div>

      <div class="modal-actions">
        <button class="btn btn-secondary" (click)="closeContactForm()">Go Back</button>
        <button class="btn btn-primary" (click)="submitInquiry()">Send Inquiry</button>
      </div>
    </div>
    </div>
  }
</div>
